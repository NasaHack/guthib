"use strict";var m=Object.defineProperty,W=Object.defineProperties,H=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var C=(r,e,t)=>e in r?m(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,d=(r,e)=>{for(var t in e||(e={}))y.call(e,t)&&C(r,t,e[t]);if(E)for(var t of E(e))G.call(e,t)&&C(r,t,e[t]);return r},p=(r,e)=>W(r,M(e));var h=(r,e)=>()=>(r&&(e=r(r=0)),e);var I=(r,e)=>{for(var t in e)m(r,t,{get:e[t],enumerable:!0})},N=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of j(e))!y.call(r,a)&&a!==t&&m(r,a,{get:()=>e[a],enumerable:!(s=H(e,a))||s.enumerable});return r};var k=r=>N(m({},"__esModule",{value:!0}),r);var n=(r,e,t)=>new Promise((s,a)=>{var o=i=>{try{l(t.next(i))}catch(P){a(P)}},f=i=>{try{l(t.throw(i))}catch(P){a(P)}},l=i=>i.done?s(i.value):Promise.resolve(i.value).then(o,f);l((t=t.apply(r,e)).next())});var b,w,O,x,L,U,q=h(()=>{"use strict";b=["include","same-origin","omit"],w=["cors","no-cors","same-origin"],O=["default","no-cache","reload","force-cache","only-if-cached","no-store"],x=["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS","TRACE","TRACK","CONNECT"],L=["GET","HEAD","OPTIONS","DELETE","TRACE","TRACK"],U=["baseURL","cache","credentials","methods","mode","timeout","resultProps","headers"]});var u,v=h(()=>{"use strict";u=class{constructor(){this.handleTimeOut=e=>{let t=new AbortController,s=setTimeout(()=>{t.abort(),clearTimeout(s)},(e==null?void 0:e.timeout)||5e3);return t};this.normalizedReqOptions=e=>{let t=p(d({},e),{signal:this.handleTimeOut(e).signal});return t.baseURL&&delete t.baseURL,t.methods&&delete t.methods,t.timeout&&delete t.timeout,t.query&&delete t.query,t.resultProps&&delete t.resultProps,t};this.parseData=e=>n(this,null,function*(){let t=e.headers.get("Content-Type");if(!t)return`Unable to detect Content-Type. 
 Consider using 'proah.extra()' to handle this manually.`;if(t.startsWith("application/json"))try{return yield e.json()}catch(s){return`Failed to parse JSON! The requested source might be sending invalid JSON data.
${(s==null?void 0:s.message)||s}`}if(t.startsWith("text/"))try{return yield e.text()}catch(s){return`Failed to parsing TEXT ! Maybe requested sources sending invalid text data
${(s==null?void 0:s.message)||s}`}return t.startsWith("image/")||t.startsWith("audio/")||t.startsWith("video/")||t==="application/pdf"||t==="application/octet-stream"?yield e.blob():`Unknown Content-Type: ${t}. Unable to parse response.
Consider using 'proah.extra()' to handle ${t}.`});this.prettyResponse=(e,t)=>n(this,null,function*(){let s=yield this.parseData(e);return{status:e.status,statusText:e.statusText,url:e.url,[t.resultProps?t.resultProps:"data"]:e.ok?s:null,error:e.ok?null:s}})}GET_handler(e,t){return n(this,null,function*(){let s=this.normalizedReqOptions(t);return yield this.prettyResponse(yield fetch(e,s),t)})}POST_handler(e,t){return n(this,null,function*(){let s=this.normalizedReqOptions(t);return yield this.prettyResponse(yield fetch(e,s),t)})}PUT_handler(e,t){return n(this,null,function*(){let s=this.normalizedReqOptions(t);return yield this.prettyResponse(yield fetch(e,s),t)})}PATCH_handler(e,t){return n(this,null,function*(){let s=this.normalizedReqOptions(t);return yield this.prettyResponse(yield fetch(e,s),t)})}DELETE_handler(e,t){return n(this,null,function*(){let s=this.normalizedReqOptions(t);return yield this.prettyResponse(yield fetch(e,s),t)})}EXTRA_handler(e,t){let s=this.normalizedReqOptions(t);return fetch(e,s)}}});var A,g=h(()=>{"use strict";A=/^(https?:\/\/)([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*)?(:\d+)?\/?$/});var $,_,T=h(()=>{"use strict";g();q();$=r=>{var e;if(!r)throw Error("Proah Configuration object is missing");if(Object.keys(r).forEach(t=>{if(!U.includes(t))throw Error(`Unsupported Configuration property '${t}' for Proah`)}),r!=null&&r.cache&&!O.includes(r.cache))throw Error(`Invalid cache property '${r.cache}' for Proah Config`);if(r!=null&&r.mode&&!w.includes(r.mode))throw Error(`Invalid mode property '${r.mode}' for Proah Config`);if(r!=null&&r.credentials&&!b.includes(r.credentials))throw Error(`Invalid credentials property ${r.credentials} for Proah Config`);if(r!=null&&r.methods){if(!Array.isArray(r==null?void 0:r.methods))throw Error('methods must contain in Array e.g. methods:["GET", "POST", ...] |> Proah Config');(e=r==null?void 0:r.methods)==null||e.forEach(t=>{if(!x.includes(t))throw Error(`Invalid method '${t}' property for Proah Config`)})}if(r.baseURL&&!A.test(r.baseURL))throw Error("Invalid baseURL for Proah Config")},_=(r,e)=>{var t;if(e!=null&&e.body&&(e!=null&&e.method)&&L.includes(e==null?void 0:e.method))throw Error(`HTTP request '${e.method}' do not have 'body' property`);if(r&&!(e!=null&&e.methods)||e!=null&&e.method&&!((t=e.methods)!=null&&t.includes(e.method)))throw Error(`Please enable '${r&&(e==null?void 0:e.method)}' method in Proah config.`);if(r&&r!==(e==null?void 0:e.method))throw Error(`You can not override the '${r}' request to '${e==null?void 0:e.method} request for proah.${r.toLowerCase()}() method`);if(!r&&!(e!=null&&e.method))throw Error("Request 'method' missing for proah.extra() method")}});var c,z=h(()=>{"use strict";v();T();c=class extends u{combineOptions(e,t,s){var o;let a={};return t&&Object.entries(t).forEach(([f,l],i)=>{a[f]=l}),!(e!=null&&e.headers)&&((o=e==null?void 0:e.body)==null?void 0:o.constructor.name)!=="FormData"&&(a.headers=p(d({},a.headers),{"Content-Type":"application/json"})),a=d(d({},a),e),s&&(a.method=s),e!=null&&e.method&&(a.method=e.method),a}genURL(e,t){let s;return t!=null&&t.baseURL&&(s=new URL(t.baseURL)),e&&(e.startsWith("http")||e.startsWith("https"))&&(s=new URL(e)),s&&(t!=null&&t.query)&&Object.entries(t.query).forEach(([a,o])=>{s.searchParams.append(a,o)}),s&&e&&!(e.startsWith("http")||e.startsWith("https"))&&(s.pathname=e),s!=null&&s.href?s.href:e}requestProvider(e,t,s,a){let o=this.combineOptions(s,a,t);switch(_(t,o),t){case"GET":return this.GET_handler(this.genURL(e,o),o);case"POST":return this.POST_handler(this.genURL(e,o),o);case"PUT":return this.PUT_handler(this.genURL(e,o),o);case"PATCH":return this.PATCH_handler(this.genURL(e,o),o);case"DELETE":return this.DELETE_handler(this.genURL(e,o),o);default:return this.EXTRA_handler(this.genURL(e,o),o)}}}});var D={};I(D,{default:()=>R});var R,S=h(()=>{"use strict";z();T();R=class extends c{constructor(t){super();this.config=t;$(t)}get(t,s){return this.requestProvider(t,"GET",s,this.config)}post(t,s){return this.requestProvider(t,"POST",s,this.config)}put(t,s){return this.requestProvider(t,"PUT",s,this.config)}patch(t,s){return this.requestProvider(t,"PATCH",s,this.config)}delete(t,s){return this.requestProvider(t,"DELETE",s,this.config)}extra(t,s){return this.requestProvider(t,void 0,s,this.config)}}});var V=(S(),k(D)).default;module.exports=V;
